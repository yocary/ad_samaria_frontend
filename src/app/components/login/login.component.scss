/* =========================
   LOGIN – BONITO + ANIMACIONES
   Paleta: #244b6b (primario) / #1e3b55 (oscuro)
   ========================= */

/* Fondo y centrado con animación sutil */
.login-wrap {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  padding: 20px;
  background: linear-gradient(135deg, #244b6b, #1e3b55);
  position: relative;
  overflow: hidden;

  /* halos suaves para profundidad */
  &::before,
  &::after {
    content: '';
    position: absolute;
    width: 60vmax;
    height: 60vmax;
    border-radius: 50%;
    filter: blur(60px);
    opacity: 0.15;
    animation: floatBg 16s ease-in-out infinite;
    pointer-events: none;
  }
  &::before {
    background: #4fc3f7;
    top: -20vmax; left: -15vmax;
  }
  &::after {
    background: #ffd54f;
    bottom: -22vmax; right: -18vmax;
    animation-delay: 3s;
  }
}

@keyframes floatBg {
  0%, 100% { transform: translate(0, 0) scale(1); }
  50%      { transform: translate(2rem, -1.5rem) scale(1.05); }
}

/* Encabezado con entrada */
.login-header {
  text-align: center;
  margin-bottom: 22px;
  animation: slideDown 0.7s cubic-bezier(.4,0,.2,1) both;

  h1 {
    font-size: 2.25rem;
    font-weight: 800;
    color: #fff;
    letter-spacing: .8px;
    margin: 0;
    text-shadow: 0 2px 8px rgba(0,0,0,.25);
    background: linear-gradient(180deg, #ffffff, #e3f2fd);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }
}

@keyframes slideDown {
  from { opacity: 0; transform: translateY(-18px); }
  to   { opacity: 1; transform: translateY(0); }
}

/* Tarjeta con pop-in y sombra suave */
.login-card {
  background: #ffffff;
  border-radius: 14px;
  padding: 32px 24px;
  max-width: 400px;
  width: 100%;
  box-shadow: 0 18px 40px rgba(0, 0, 0, 0.14);
  display: flex;
  flex-direction: column;
  gap: 16px;
  border: 1px solid rgba(36, 75, 107, 0.08);
  animation: popCard .7s cubic-bezier(.2,.8,.2,1) .1s both;

  h2 {
    font-size: 1.5rem;
    font-weight: 700;
    color: #244b6b;
    text-align: center;
    margin: 0 0 4px;
    letter-spacing: .3px;
  }
}

@keyframes popCard {
  from { opacity: 0; transform: translateY(14px) scale(.98); }
  to   { opacity: 1; transform: translateY(0) scale(1); }
}

/* Campos de formulario (Material) */
.form-fields { display: flex; flex-direction: column; gap: 14px; }

.mat-form-field.w-full {
  width: 100%;
  animation: fieldIn .5s ease both;

  &:nth-child(1) { animation-delay: .15s; }
  &:nth-child(2) { animation-delay: .25s; }

  .mat-mdc-form-field-flex {
    background: #f7fbff;
    border: 1px solid #e0e7ef;
    border-radius: 10px;
    padding: 0 14px;
    transition: border-color .25s ease, box-shadow .25s ease, transform .2s ease;

    &:hover { border-color: #cad6e4; background: #ffffff; transform: translateY(-1px); }
  }

  &.mat-focused .mat-mdc-form-field-flex {
    border-color: #244b6b;
    box-shadow: 0 0 0 3px rgba(36, 75, 107, .12);
    background: #ffffff;
  }

  /* Chrome autofill */
  input:-webkit-autofill {
    -webkit-box-shadow: 0 0 0 30px #ffffff inset !important;
    -webkit-text-fill-color: #1e3b55 !important;
    caret-color: #1e3b55;
  }
}

@keyframes fieldIn {
  from { opacity: 0; transform: translateX(-10px); }
  to   { opacity: 1; transform: translateX(0); }
}

/* Botón principal con brillo */
button[color="primary"] {
  background: linear-gradient(135deg, #244b6b, #1e3b55);
  color: #fff;
  font-weight: 700;
  height: 48px;
  border-radius: 10px;
  letter-spacing: .2px;
  position: relative;
  overflow: hidden;
  box-shadow: 0 8px 16px rgba(36, 75, 107, .25);
  transition: transform .2s ease, box-shadow .25s ease;
  animation: btnIn .55s ease .35s both;

  &:hover { transform: translateY(-2px); box-shadow: 0 12px 24px rgba(30, 59, 85, .3); }
  &:active { transform: translateY(0); box-shadow: 0 6px 12px rgba(30, 59, 85, .25); }

  /* destello */
  &::before {
    content: '';
    position: absolute; inset: 0;
    transform: translateX(-100%);
    background: linear-gradient(90deg, transparent, rgba(255,255,255,.25), transparent);
    transition: transform .7s ease;
  }
  &:hover::before { transform: translateX(100%); }
}

@keyframes btnIn {
  from { opacity: 0; transform: translateY(10px); }
  to   { opacity: 1; transform: translateY(0); }
}

/* Estado de carga del botón (agrega clase .loading en TS) */
button[color="primary"].loading {
  pointer-events: none;
  &::after {
    content: '';
    position: absolute; top: 50%; left: 50%;
    width: 20px; height: 20px; margin: -10px 0 0 -10px;
    border-radius: 50%;
    border: 2px solid rgba(255,255,255,.45);
    border-top-color: #fff;
    animation: spin .85s linear infinite;
  }
  span { opacity: 0; }
}
@keyframes spin { to { transform: rotate(360deg); } }

/* Link de cambiar contraseña con subrayado animado */
.forgot-link {
  color: #244b6b;
  font-weight: 600;
  text-align: center;
  cursor: pointer;
  text-decoration: none;
  position: relative;
  width: fit-content;
  margin: 2px auto 0;
  transition: color .25s ease;

  &::after {
    content: '';
    position: absolute; left: 50%; bottom: -2px;
    width: 0; height: 2px; background: currentColor;
    transform: translateX(-50%);
    transition: width .25s ease;
  }
  &:hover { color: #1e3b55; }
  &:hover::after { width: 100%; }
}

/* Mensajes (opcionales) */
.login-message {
  padding: 12px 14px;
  border-radius: 10px;
  font-weight: 600;
  text-align: center;
  border: 1px solid transparent;
  animation: fieldIn .4s ease both;

  &.error   { background: rgba(211,47,47,.08);   color:#c62828; border-color: rgba(211,47,47,.25); }
  &.success { background: rgba(56,142,60,.08);   color:#2e7d32; border-color: rgba(56,142,60,.25); }
  &.info    { background: rgba(25,118,210,.08);  color:#1565c0; border-color: rgba(25,118,210,.25); }
}

/* Accesibilidad / reduced motion */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: .01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: .01ms !important;
  }
}

/* Responsive */
@media (max-width: 450px) {
  .login-card { padding: 24px 16px; border-radius: 12px; }
  .login-header h1 { font-size: 1.9rem; }
  .login-card h2 { font-size: 1.3rem; }
}
