<mat-dialog-content class="dlg">
  <div class="dlg__title">CREAR CERTIFICADO</div>

  <!-- Tipo de Certificado (FUERA del form dinámico) -->
  <mat-form-field appearance="outline" class="w-full">
    <mat-label>Tipo de Certificado</mat-label>
    <mat-select [formControl]="typeCtrl">
      <mat-option *ngFor="let t of types" [value]="t">{{ t }}</mat-option>
    </mat-select>
  </mat-form-field>

  <!-- Form dinámico: se reemplaza completo cuando cambia el tipo -->
  <form *ngIf="form" [formGroup]="form" class="form">

    <ng-container [ngSwitch]="currentType">

      <!-- ======= MEMBRESÍA ======= -->
      <!-- ======= MEMBRESÍA ======= -->
      <ng-container *ngSwitchCase="'Membresía'">
        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Miembro</mat-label>
          <input matInput placeholder="Nombre del miembro" formControlName="memberName" />
        </mat-form-field>
      </ng-container>


      <!-- ======= PRESENTACIÓN DE NIÑOS ======= -->
      <ng-container *ngSwitchCase="'Presentación de Niños'">
        <!-- Nombre del niño -->
        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Nombre del niño(a)</mat-label>
          <input matInput formControlName="childName" />
        </mat-form-field>

        <!-- Padre (texto) -->
        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Nombre del padre</mat-label>
          <input matInput formControlName="fatherName" />
        </mat-form-field>

        <!-- Madre (texto) -->
        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Nombre de la madre</mat-label>
          <input matInput formControlName="motherName" />
        </mat-form-field>

        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Lugar y fecha de nacimiento</mat-label>
          <input matInput formControlName="lugarFechaNacimiento" placeholder="Ej: Guatemala, 01/10/2025" />
        </mat-form-field>
      </ng-container>

      <!-- ======= BAUTISMO ======= -->
      <ng-container *ngSwitchCase="'Bautismo'">
        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Nombre del miembro</mat-label>
          <input matInput formControlName="nombreMiembro" />
        </mat-form-field>

        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Fecha de bautismo</mat-label>
          <input matInput type="date" formControlName="baptismDate" />
        </mat-form-field>
      </ng-container>

      <!-- ======= MATRIMONIO ======= -->
      <ng-container *ngSwitchCase="'Matrimonio'">
        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Nombre del esposo</mat-label>
          <input matInput formControlName="husbandName" />
        </mat-form-field>

        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Nombre de la esposa</mat-label>
          <input matInput formControlName="wifeName" />
        </mat-form-field>
      </ng-container>
    </ng-container>

    <!-- ======= FECHA DE EXPEDICIÓN (común) ======= -->
    <mat-form-field appearance="outline" class="w-full">
      <mat-label>Fecha Expedición</mat-label>
      <input matInput type="date" formControlName="issueDate" />
    </mat-form-field>
  </form>
</mat-dialog-content>

<mat-dialog-actions align="center" class="dlg-actions">
  <button mat-stroked-button color="primary" (click)="cancel()">Cancelar</button>
  <button mat-raised-button color="primary" (click)="save()">Guardar</button>
</mat-dialog-actions>