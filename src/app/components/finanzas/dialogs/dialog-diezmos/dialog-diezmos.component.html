<div class="dz">
  <div class="dz__header">DIEZMOS</div>

  <section class="kpis-row">
    <div class="kpi purple">
      <div class="kpi-title">Total Ingresos</div>
      <div class="kpi-val">Q {{ totIngresos | number:'1.2-2' }}</div>
    </div>
    <div class="kpi teal">
      <div class="kpi-title">Total Egresos</div>
      <div class="kpi-val">Q {{ totEgresos | number:'1.2-2' }}</div>
    </div>
    <div class="kpi orange">
      <div class="kpi-title">Saldo disponible</div>
      <div class="kpi-val">Q {{ totSaldo | number:'1.2-2' }}</div>
    </div>
  </section>

  <div class="toolbar">
    <button class="btn btn--primary" (click)="openAdd()">
      + Agregar Ingresos / Egresos
    </button>

    <button class="btn btn--excel" (click)="downloadExcel()">
      <mat-icon aria-hidden="true">download</mat-icon>
      <span>Descargar Excel</span>
    </button>

    <!-- Selector de período -->
    <div class="periodo-selector">
      <label>Período:</label>
      <select [(ngModel)]="periodoSeleccionado" (change)="cambiarPeriodo()" class="periodo-select">
        <option value="mes">Mes Actual</option>
        <option value="mes_anterior">Mes Anterior</option>
        <option value="anio">Año Actual</option>
        <option value="todos">Todos</option>
      </select>
    </div>
  </div>

  <div class="table">
    <table mat-table [dataSource]="rows">
      <!-- ... resto de tu tabla igual ... -->
      <ng-container matColumnDef="no">
        <th mat-header-cell *matHeaderCellDef>No.</th>
        <td mat-cell *matCellDef="let r; let i = index">{{ i+1 }}</td>
      </ng-container>

      <ng-container matColumnDef="nombre">
        <th mat-header-cell *matHeaderCellDef>Nombre</th>
        <td mat-cell *matCellDef="let r">{{ r.nombre }}</td>
      </ng-container>

      <ng-container matColumnDef="cantidad">
        <th mat-header-cell *matHeaderCellDef>Cantidad</th>
        <td mat-cell *matCellDef="let r">
          {{ r.cantidad | currency:'GTQ':'symbol':'1.2-2' }}
        </td>
      </ng-container>

      <ng-container matColumnDef="fecha">
        <th mat-header-cell *matHeaderCellDef>Fecha</th>
        <td mat-cell *matCellDef="let r">{{ r.fecha | date:'dd/MM/yyyy' }}</td>
      </ng-container>

      <ng-container matColumnDef="tipo">
        <th mat-header-cell *matHeaderCellDef>Tipo</th>
        <td mat-cell *matCellDef="let r">{{ r.tipo }}</td>
      </ng-container>

      <ng-container matColumnDef="acc">
        <th mat-header-cell *matHeaderCellDef>Acciones</th>
        <td mat-cell *matCellDef="let r">
          <button mat-raised-button color="accent" class="btn-sm" (click)="edit(r)">Editar</button>
          <button mat-raised-button color="warn" class="btn-sm" (click)="remove(r)">Eliminar</button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="['no','nombre','cantidad','fecha','tipo','acc']"></tr>
      <tr mat-row *matRowDef="let row; columns: ['no','nombre','cantidad','fecha','tipo','acc'];"></tr>
    </table>
  </div>

  <div class="footer">
    <button mat-stroked-button color="primary" (click)="close()">Regresar</button>
  </div>
</div>